<style>
    #lnkbtnAssignLocations:hover {
        color: #8a48bc !important;
        cursor: pointer !important;
    }
</style>
<div id="main" class="content-page">
    <div class="page-content-wrapper">
        <div class="container x_panel no-border">
            <br>
            <div class="">
                <div class="panel panel-default" style="border: 1px solid #eee;">
                    <div class="panel-body" style="padding:0px 0 10px 0;">
                        <div class="col-xs-12">
                            <form class="form-horizontal form-label-left" *ngIf="showDiv1">
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4"> Org Group ID</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <label class="control-label lbl-left" *ngIf="blnShowOrgGroupLabel">{{selectedOrgGroupId}}</label>
                                        <atpar-select [options]="lstOrgGroupData" [id]="'ddllstOrgGroupsHome'"
                                                      [(ngModel)]="OrgGroupId" [ngModelOptions]="{standalone: true}"
                                                      filter="filter" (onChange)="ddlOrgGrpIdChanged($event)" [required]="true" [name]="ddllstOrgGroupsHome" *ngIf="ddlShowOrgGroupDD"></atpar-select>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Location Group ID</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <atpar-text [(ngModel)]="locationNgModeldData"
                                                    [name]="'searchlocation'"
                                                    (bindModelDataChange)="bindModelDataChange($event)" [id]="'searchlocation'"></atpar-text>

                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Description</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <atpar-text [(ngModel)]="descriptionNgModelData" [name]="'description'" (bindModelDataChange)="bindModelDataChange($event)"
                                                    [id]="'description'"></atpar-text>
                                    </div>
                                </div>
                                <div style="clear:both;"></div>
                                <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-5">
                                    <button class="btn btn-purple small" (click)="btn_go()">Go &nbsp; <i class="fa fa-arrow-right"></i></button>
                                    <button class="btn btn-purple small" (click)="create()">Create &nbsp;<i class="fa fa-plus"></i></button>
                                </div>
                            </form>
                        </div>
                        <div class="col-xs-12" *ngIf="showDiv2">
                            <div class="form-horizontal form-label-left">
                                <div class="form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-3 col-md-3"> Org Group ID</label>
                                    <div class="col-xs-12 col-sm-3 col-md-3">                      
                                        <label class="control-label lbl-left" *ngIf="blnShowOrgGroupLabel">{{selectedOrgGroupId}}</label>
                                        <atpar-select [options]="lstOrgGroupData" [id]="'ddllstOrgGroups'" [required]="true"
                                                      [(ngModel)]="selectedOrgGroupId" [ngModelOptions]="{standalone: true}"
                                                      filter="filter" *ngIf="ddlShowOrgGroupDD" (onChange)="ddlOrgGrpIdChanged($event)" [name]="ddllstOrgGroups" [isfocus]="ddlShowOrgGroupDD"></atpar-select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-3 col-md-3">Location Group ID</label>
                                    <div class="col-xs-12 col-sm-3 col-md-3">
                                        <atpar-text [(ngModel)]="locationNgModel"
                                                    [name]="'location'"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [validations]="'mandatory,alpha_numeric_dot_nospace,max=20'"
                                                    (bindModelDataChange)="bindModelDataChange($event)" [id]="'location'" *ngIf="ddlShowOrgGroupDD"
                                                    [title]="'Use only letters(a-z)(A-Z),numbers (0-9),the underscore(_) and Dot(.)Special Characters are not allowed'"></atpar-text>
                                        <!--[validations]="'mandatory,alpha_numeric_space'"-->
                                        <!--alpha_numeric_dot_nospace-->
                                        <atpar-text [(ngModel)]="locationNgModel"
                                                    [name]="'location'"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [validations]="'mandatory,alpha_numeric_dot_nospace,max=20'"
                                                    (bindModelDataChange)="bindModelDataChange($event)" [id]="'location'" *ngIf="!ddlShowOrgGroupDD" [isFocused]="'true'"
                                                    [title]="'Use only letters(a-z)(A-Z),numbers (0-9),the underscore(_) and Dot(.)Special Characters are not allowed'"></atpar-text>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-3 col-md-3">Description</label>
                                    <div class="col-xs-12 col-sm-3 col-md-3">
                                        <atpar-text [(ngModel)]="descriptionNgModel"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [name]="'description'"
                                                    [id]="'description'"></atpar-text>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-5">
                                    <button class="btn btn-purple sbtn" [disabled]="disableButton" (click)="btn_Click_Save()">Save &nbsp; <i class="fa fa-floppy-o"></i></button>
                                    <button class="btn btn-purple sbtn" (click)="close()"><i class="fa fa-arrow-left"></i> &nbsp;Go Back</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12" *ngIf="showDiv3">
                            <div class="form-horizontal form-label-left">
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Org Group ID </label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <label class="control-label lbl-left">{{gridOrgGroupID}}  </label>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Location Group</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <label class="control-label lbl-left">{{gridLocation}}</label>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Org Id</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <atpar-select [options]="ddlBusinessData" filter="filter" [id]="'ddllstBusinessData'" [(ngModel)]="businessDatangModel" [required]="false" [style]="{'width':'100%'}" [name]="businessData">
                                        </atpar-select>
                                    </div>
                                </div>
                                <div style="clear:both;"></div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Location</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <atpar-text [(ngModel)]="gridLocationNgModel"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [name]="'gridLocation'"
                                                    [id]="'gridLocation'"></atpar-text>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <label for="" class="control-label col-xs-12 col-sm-6 col-md-4">Display</label>
                                    <div class="col-xs-12 col-sm-6 col-md-8">
                                        <atpar-select [options]="ddlDisplay" [id]="'ddlDisplay'" [(ngModel)]="selectedDisplayNgModel" [ngModelOptions]="{standalone: true}"></atpar-select>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-4 form-group">
                                    <button class="btn btn-purple sbtn" (click)="btn_Manage_go()">Go &nbsp; <i class="fa fa-arrow-right"></i></button>
                                    <button class="btn btn-purple sbtn" (click)="manage_Close()"><i class="fa fa-arrow-left"></i>&nbsp; Go Back</button>
                                </div>
                            </div>
                        </div>

                        <div class="col-xs-12" *ngIf="showGrid">
                            <div class="container">
                                <atpar-datatable [value]="lstGridData" [style]="{'width':'100%'}" #dt [paginator]="true" [pageLinks]="3" [rows]="pageSize" [rowsPerPageOptions]="[10,20, 30, 40, 50, 60, 70, 80, 90, 100]" [responsive]="true">
                                    <p-column header="Org Group ID" field="ORG_GROUP_ID" [sortable]="true" [filter]="true" filterPlaceholder="Search" [style]="{'width':'10%'}">
                                    </p-column>
                                    
                                    <p-column header="Location Group" field="LOC_GROUP_ID" [sortable]="true" [filter]="true" filterPlaceholder="Search" [style]="{'width':'12%'}">
                                    </p-column>
                                    <p-column header="Location Description" field="LOC_DESCR" [sortable]="true" [filter]="true" filterPlaceholder="Search">
                                    </p-column>
                                    <p-column field="LOC_GROUP_ID" header="Assign  Locations" [style]="{'width':'12%'}">
                                        <template let-col let-ven="rowData" pTemplate="body">
                                            <a (click)="lnkbtnParams_Click(ven)" id="lnkbtnAssignLocations" style="cursor:pointer;color:#7b2c78;">Assign Locations</a>
                                        </template>
                                    </p-column>
                                    <p-column field="STATUS" header="Status" [filter]="true" [style]="{'width': '8%','overflow':'visible','text-align':'center'}" filterMatchMode="equals">
                                        <template pTemplate="filter" let-col>
                                            <atpar-select-grid [options]="ddlStatusType" [(ngModel)]="statusType" [style]="{'width':'100%'}" [id]="'ddlddlStatusType'" [required]="false" (onChange)="dataFilter($event.value,col.field,col.filterMatchMode)"></atpar-select-grid>
                                        </template>
                                        <template let-col let-locationData="rowData" pTemplate="body">

                                            <atpar-switch [checked]=locationData[col.field] [(ngModel)]="locationData[col.field]" name="changeStatus" (click)="changeStatus(locationData)"></atpar-switch>
                                        </template>
                                    </p-column>
                                </atpar-datatable>
                            </div>
                        </div>

                        <div class="col-xs-12" *ngIf="dataGrid">
                            <div class="container">
                                <atpar-datatable [value]="lstDistribTypes" [style]="{'width':'100%'}" [paginator]="true" [pageLinks]="3" [rows]="pageSize"
                                                 (filteredData)="filterdata($event)"
                                                 (onSort)="onSort($event)" expandableRows="true" [rowsPerPageOptions]="[10,20,30,40,50,60,70,80,90,100]"
                                                 [responsive]="true">
                                    <p-column field="CHK_VALUE" [style]="{'width':'7%', 'text-align':'center'}" header="Select">
                                        <template pTemplate="filter" let-col>
                                            <ul class="list-inline li-all-none">
                                                <li>
                                                    <span (click)="checkAll()" style="cursor:pointer">All</span>
                                                </li> |
                                                <li>
                                                    <span (click)="unCheckAll()" style="cursor:pointer">None</span>
                                                </li>
                                            </ul>
                                        </template>
                                        <template let-col let-allocate="rowData" pTemplate="body">
                                            <atpar-switch [checked]="allocate[col.field]==1?true:false" [(ngModel)]="allocate[col.field]" name="changeStatus"></atpar-switch>
                                        </template>
                                    </p-column>

                                    <p-column field="SETCNTRLVALUE" header="Org ID" sortable="custom" [filter]="true" filterPlaceholder="Search" [style]="{'width':'10%'}"> </p-column>

                                    <p-column field="LOCATION" header="Location" [style]="{'width':'15%'}" [sortable]="true" [filter]="true" filterPlaceholder="Search"></p-column>

                                    <p-column field="DESCR" header="Description" [style]="{'width':'30%'}" [sortable]="true" [filter]="true" filterPlaceholder="Search"></p-column>
                                    <p-column field="ADDRESS" header="Address" [style]="{'width':'20%'}" [sortable]="true" [filter]="true" filterPlaceholder="Search"></p-column>
                                    <p-column field="TYPE" header="Type" [style]="{'width':'10%'}" [sortable]="true" [filter]="true" filterPlaceholder="Search"></p-column>

                                </atpar-datatable>
                            </div>
                            <br>
                            <div class="col-xs-12 col-sm-6 col-sm-offset-5 col-md-4 col-md-offset-5">
                                <button class="btn btn-purple sbtn" (click)="btnAssignLocs_Click()">Submit &nbsp;<i class="fa fa-check"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <atpar-growl [value]="growlMessage" sticky="sticky"></atpar-growl>
        </div>
    </div>

</div>


